(this.webpackJsonp=this.webpackJsonp||[]).push([["frosh-cms-video-modals"],{"0c29":function(e,n){e.exports='{% block sw_cms_element_youtube_video_config_display_mode %}\n    {% parent %}\n\n    <sw-container columns="repeat(auto-fit, minmax(250px, 1fr)" gap="0px 30px">\n        <sw-cms-mapping-field :label="$tc(\'sw-media.sidebar.sections.preview\')" valueTypes="entity" entity="media" v-model="element.config.previewImage">\n            <sw-media-upload-v2 variant="regular"\n                                :uploadTag="uploadTag"\n                                :source="previewImage"\n                                :allowMultiSelect="false"\n                                :defaultFolder="cmsPageState.pageEntityName"\n                                :caption="$tc(\'sw-cms.elements.general.config.caption.mediaUpload\')"\n                                @media-upload-sidebar-open="onOpenMediaModal"\n                                @media-upload-remove-image="onImageRemove">\n            </sw-media-upload-v2>\n\n            <div class="sw-cms-el-config-image__mapping-preview" slot="preview" slot-scope="{ demoValue }">\n                <img :src="demoValue.url" v-if="demoValue.url">\n                <sw-alert class="sw-cms-el-config-image__preview-info" variant="info" v-else>\n                    {{ $tc(\'sw-cms.detail.label.mappingEmptyPreview\') }}\n                </sw-alert>\n            </div>\n        </sw-cms-mapping-field>\n\n        <sw-media-modal-v2\n            variant="regular"\n            v-if="mediaModalIsOpen"\n            :caption="$tc(\'sw-cms.elements.general.config.caption.mediaUpload\')"\n            :entityContext="cmsPageState.entityName"\n            :allowMultiSelect="false"\n            :initialFolderId="cmsPageState.defaultMediaFolderId"\n            @media-upload-remove-image="onImageRemove"\n            @media-modal-selection-change="onSelectionChanges"\n            @modal-close="onCloseModal">\n        </sw-media-modal-v2>\n\n        <sw-upload-listener\n            :uploadTag="uploadTag"\n            autoUpload\n            @media-upload-finish="onImageUpload">\n        </sw-upload-listener>\n    </sw-container>\n{% endblock %}\n'},"HA/q":function(e,n,t){"use strict";t.r(n);var a=t("0c29"),i=t.n(a);function o(e,n,t,a,i,o,l){try{var s=e[o](l),m=s.value}catch(e){return void t(e)}s.done?n(m):Promise.resolve(m).then(a,i)}var l,s,m=Shopware,d=m.Component,r=m.Mixin;d.override("sw-cms-el-config-youtube-video",{template:i.a,mixins:[r.getByName("cms-element")],data:function(){return{mediaModalIsOpen:!1,initialFolderId:null}},inject:["repositoryFactory"],props:{uploadTag:{type:String,required:!0}},created:function(){this.createdComponent()},methods:{createdComponent:function(){this.initElementConfig("youtube-video"),this.element.config.previewImage||(this.element.config.previewImage={source:"static",value:null,entity:{name:"media"}})},onImageUpload:(l=regeneratorRuntime.mark((function e(n){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.targetId,e.next=3,this.mediaRepository.get(t,Shopware.Context.api);case 3:a=e.sent,this.element.config.previewImage.value=a.id,this.updateElementData(a),this.$emit("element-update",this.element);case 7:case"end":return e.stop()}}),e,this)})),s=function(){var e=this,n=arguments;return new Promise((function(t,a){var i=l.apply(e,n);function s(e){o(i,t,a,s,m,"next",e)}function m(e){o(i,t,a,s,m,"throw",e)}s(void 0)}))},function(e){return s.apply(this,arguments)}),onImageRemove:function(){this.element.config.previewImage.value=null,this.updateElementData(),this.$emit("element-update",this.element)},onCloseModal:function(){this.mediaModalIsOpen=!1},onSelectionChanges:function(e){var n=e[0];this.element.config.previewImage.value=n.id,this.updateElementData(n),this.$emit("element-update",this.element)},updateElementData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.$set(this.element.data,"previewImageId",null===e?null:e.id),this.$set(this.element.data,"mediaId",null===e?null:e.id),this.$set(this.element.data,"previewImage",e)},onOpenMediaModal:function(){this.mediaModalIsOpen=!0}},computed:{mediaRepository:function(){return this.repositoryFactory.create("media")},uploadTag:function(){return"cms-element-media-config-".concat(this.element.id)},previewImage:function(){return this.element.data&&this.element.data.previewImage&&this.element.data.previewImage.id?(console.log("jepp data"),console.log(this.element.data.previewImage),this.element.data.previewImage):(console.log("jepp config"),this.element.config.previewImage.value)}}})}},[["HA/q","runtime"]]]);